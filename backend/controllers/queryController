const SupportQuery = require('../models/supportQueryModel'); // Ensure this path matches your project structure

// Controller for creating a new support query
const createQuery = async (req, res) => {
  const { queryText, userId } = req.body; // Assuming each query is associated with a user's ID
  try {
    // Optional: Validate user existence here if your model associates queries with users directly
    const newQuery = new SupportQuery({
      queryText: queryText,
    });

    await newQuery.save();
    res.status(201).json({ message: 'Support query created successfully', queryId: newQuery._id });
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
};

module.exports = { createQuery };
